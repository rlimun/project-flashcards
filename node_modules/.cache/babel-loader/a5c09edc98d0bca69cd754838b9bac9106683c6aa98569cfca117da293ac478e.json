{"ast":null,"code":"//path - /decks/:deckId/edit\nimport React,{useState,useEffect}from\"react\";import{useHistory,useParams,Link}from\"react-router-dom\";import{readDeck,updateDeck}from\"../utils/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditDeck(_ref){let{setDeck}=_ref;const{deckId}=useParams();const history=useHistory();const[formData,setFormData]=useState({name:'',description:''});useEffect(()=>{const abortController=new AbortController();const fetchDeck=async()=>{try{const response=await readDeck(deckId,abortController.signal);const data=await response.json();setFormData({name:data.name,description:data.description});}catch(error){console.log('Error fetching cards ',error);}};fetchDeck();return()=>{abortController.abort();};},[deckId]);const navBar=/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:\"Edit Deck\"})]})});const handleSubmitForm=async(event,_ref2)=>{let{target}=_ref2;event.preventDefault();const updatedDeck={name:formData.name,description:formData.description};await updateDeck(deckId,updatedDeck);setFormData(currentFormData=>({...currentFormData,[target.name]:target.value}));const response=await readDeck(deckId);setDeck(response);history.push(\"/decks/\".concat(deckId));};const handleCancelButton=event=>{event.preventDefault();history.push('/deck');};return/*#__PURE__*/_jsxs(\"div\",{className:\"editDeckPage\",children:[navBar,/*#__PURE__*/_jsx(\"div\",{className:\"editDeckForm\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitForm,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:formData.name})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.name})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelButton,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]})})]});}export default EditDeck;","map":{"version":3,"names":["React","useState","useEffect","useHistory","useParams","Link","readDeck","updateDeck","jsx","_jsx","jsxs","_jsxs","EditDeck","_ref","setDeck","deckId","history","formData","setFormData","name","description","abortController","AbortController","fetchDeck","response","signal","data","json","error","console","log","abort","navBar","children","className","to","handleSubmitForm","event","_ref2","target","preventDefault","updatedDeck","currentFormData","value","push","concat","handleCancelButton","onSubmit","onClick","type"],"sources":["/Users/rlimun/SWE_Program/Front-End-Development/react-assessment/project-flashcards/src/Layout/EditDeck.js"],"sourcesContent":["//path - /decks/:deckId/edit\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams, Link } from \"react-router-dom\";\nimport { readDeck, updateDeck } from \"../utils/api\";\n\nfunction EditDeck({setDeck}){\n    const { deckId } = useParams();\n    const history = useHistory();\n    const [ formData, setFormData ] = useState({\n        name: '',\n        description: '',\n    })\n\n    useEffect(() => {\n        const abortController = new AbortController();\n        const fetchDeck = async() => {\n            try {\n                const response = await readDeck(deckId, abortController.signal);\n                const data = await response.json();\n                setFormData({\n                    name: data.name,\n                    description: data.description,\n                })\n            } catch(error){\n                console.log('Error fetching cards ', error);\n            }\n        }\n        fetchDeck();\n        return () => {\n            abortController.abort();\n        }\n    }, [deckId]);\n\n    const navBar = (\n        <nav>\n            <ol className=\"breadcrumb\">\n                <li className=\"breadcrumb-item\">\n                    <Link to=\"/\">Home</Link>\n                </li>\n                <li className=\"breadcrumb-item\">\n                    Edit Deck\n                </li>\n            </ol>\n        </nav>\n    )\n\n    const handleSubmitForm = async (event, {target}) => {\n        event.preventDefault();\n        \n        const updatedDeck = {\n            name: formData.name,\n            description: formData.description,\n        }\n\n        await updateDeck(deckId, updatedDeck);\n\n        setFormData((currentFormData) => ({\n            ...currentFormData,\n            [target.name]: target.value,\n        }))\n\n        const response = await readDeck(deckId);\n        setDeck(response);\n\n        history.push(`/decks/${deckId}`);\n    }\n\n    const handleCancelButton = (event) => {\n        event.preventDefault();\n        history.push('/deck');\n    }\n\n\n    return (\n        <div className=\"editDeckPage\">\n            {navBar}\n            <div className=\"editDeckForm\">\n                <form onSubmit={handleSubmitForm}>\n                    <div className=\"form-group\">\n                        <label>\n                            <p>Name</p>\n                            <input name=\"name\" value={formData.name}/>\n                        </label>\n                    </div>\n                    <div className=\"form-group\">\n                        <label>\n                            <p>Description</p>\n                            <textarea name=\"description\" value={formData.name}/>\n                        </label>\n                    </div>\n                    <div className=\"button-group\">\n                        <button onClick={handleCancelButton}>Cancel</button>\n                        <button type=\"submit\">Submit</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default EditDeck;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}