{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useHistory}from\"react-router-dom\";import{listDecks,deleteDeck}from\"../utils/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[decks,setDeck]=useState([]);const history=useHistory();useEffect(()=>{async function fetchData(){const abortController=new AbortController();try{const data=await listDecks(abortController.signal);setDeck(data);}catch(error){console.error(\"error\",error);}return()=>{abortController.abort();};}fetchData();},[]);const handleStudyClick=deckId=>{history.push(\"/decks/\".concat(deckId,\"/study\"));};const handleCreateDeckClick=deckId=>{history.push(\"/decks/new\");};const handleViewClick=deckId=>{history.push(\"/decks/\".concat(deckId));};/** \n    * Delete Deck prompt\n    * When the user clicks the Delete button, a warning message is shown and the user can click OK or Cancel. \n    * If the user clicks OK, the deck is deleted and the deleted deck is no longer visible on the Home screen.\n    **/const handleDelete=deckId=>{const confirmed=window.confirm('Delete this deck? You will not be able to recover it');if(confirmed){deleteDeck(deckId);setDeck(decks.filter(deck=>deck.id!==deckId));history.go(0);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"Home\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateDeckClick,children:\"Create Deck\"}),decks.map(deck=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-container\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[deck.name,\" \",deck.cards.length,\" cards\"]}),/*#__PURE__*/_jsx(\"p\",{children:deck.description}),/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deck.id),children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewClick(deck.id),children:\"View\"})}),/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deck.id,\"/study\"),children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log(\"Button clicked!\");handleStudyClick(deck.id);},children:\"Study\"})}),/*#__PURE__*/_jsx(\"button\",{name:\"delete\",onClick:()=>handleDelete(deck.id),children:\" Delete \"})]})},deck.id))]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","Link","useHistory","listDecks","deleteDeck","jsx","_jsx","jsxs","_jsxs","Home","decks","setDeck","history","fetchData","abortController","AbortController","data","signal","error","console","abort","handleStudyClick","deckId","push","concat","handleCreateDeckClick","handleViewClick","handleDelete","confirmed","window","confirm","filter","deck","id","go","className","children","onClick","map","name","cards","length","description","to","log"],"sources":["/Users/rlimun/SWE_Program/Front-End-Development/react-assessment/project-flashcards/src/Layout/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { listDecks, deleteDeck } from \"../utils/api\";\n\n\nconst Home = () => {\n    const [decks, setDeck] = useState([]);\n    const history = useHistory();\n\n    useEffect(() => {\n        async function fetchData() {\n            const abortController = new AbortController();\n            try {\n                const data = await listDecks(abortController.signal);\n                setDeck(data);\n            } catch(error) {\n                console.error(\"error\", error);\n            }\n            return () => {\n                abortController.abort();\n            };\n        }\n        fetchData();\n    }, []);\n\n    const handleStudyClick = (deckId) => {\n         history.push(`/decks/${deckId}/study`);\n     }\n \n     const handleCreateDeckClick = (deckId) => {\n         history.push(\"/decks/new\");\n     }\n \n     const handleViewClick = (deckId) => {\n         history.push(`/decks/${deckId}`);\n     }\n\n    /** \n    * Delete Deck prompt\n    * When the user clicks the Delete button, a warning message is shown and the user can click OK or Cancel. \n    * If the user clicks OK, the deck is deleted and the deleted deck is no longer visible on the Home screen.\n    **/\n    const handleDelete = (deckId) => {\n        const confirmed = window.confirm('Delete this deck? You will not be able to recover it');\n        if (confirmed) {\n            deleteDeck(deckId);\n            setDeck(decks.filter((deck) => deck.id !== deckId));\n            history.go(0);\n        }\n    }\n    \n\n    return (\n        <div className=\"Home\">\n            <button onClick={handleCreateDeckClick}>Create Deck</button>\n            { decks.map((deck) => (\n                <div key={deck.id}\n                className=\"card\"\n                >\n                    <div className=\"card-container\">\n                        <h4>{deck.name} {deck.cards.length} cards</h4>\n                        <p>{deck.description}</p>\n                        {/* Clicking the View button brings the user to the Deck screen. */}\n                        <Link to={`/decks/${deck.id}`}>\n                            <button onClick={() => handleViewClick(deck.id)}>View</button>\n                        </Link>\n                        {/* Clicking the Study button brings the user to the Study screen. */}\n                        <Link to={`/decks/${deck.id}/study`}>\n                            <button onClick={() => { console.log(\"Button clicked!\"); handleStudyClick(deck.id); }}>Study</button>\n                        </Link>\n                        {/*Clicking the Delete button shows a warning message before deleting the deck.*/}\n                        <button name=\"delete\" onClick={() => handleDelete(deck.id)}> Delete </button>\n                    </div>\n                </div>\n            ))}\n        </div>\n    )\n}\n\n\nexport default Home;\n\n              "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}