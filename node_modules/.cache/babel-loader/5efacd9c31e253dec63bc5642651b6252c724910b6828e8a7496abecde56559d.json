{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{readDeck}from\"../utils/api\";import{Link,useParams,useHistory}from\"react-router-dom\";import CardsList from\"./CardsList\";import{deleteDeck}from\"../utils/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Deck=()=>{const deckId=useParams();const[deck,setDeck]=useState([]);const history=useHistory();useEffect(()=>{const abortController=new AbortController();const fetchDeck=async()=>{try{const response=await readDeck(deckId,abortController.signal);const data=response.json();setDeck(data);}catch(error){console.log('Error fetching decks',error);}};fetchDeck();return()=>{abortController.abort();};},[deckId]);const handleEditButton=deckId=>{history.push(\"/decks/\".concat(deckId,\"/edit\"));};const handleStudyButton=deckId=>{history.push(\"/decks/\".concat(deckId,\"/study\"));};const handleAddCardsButton=deckId=>{history.push(\"/decks/\".concat(deckId,\"/cards/new\"));};const handleDeleteButton=async deckId=>{const confirmed=window.confirm('Delete this deck? You will not be able to recover it');if(confirmed){try{await deleteDeck(deckId);// setDecks((prevDecks) => prevDecks.filter((deck) => deck.id !== deckId));\nhistory.go(0);}catch(error){console.error(\"Error deleting deck\",error);}}};const navBar=/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:deck.name})]})});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[navBar,/*#__PURE__*/_jsx(\"h3\",{children:deck.name}),/*#__PURE__*/_jsx(\"p\",{children:deck.description}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditButton(deck.id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStudyButton(deck.id),children:\"Study\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddCardsButton(deck.id),children:\"Add Cards\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteButton(deck.id),children:\"Delete\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CardsList,{deck:deck})})]});};export default Deck;","map":{"version":3,"names":["React","useState","useEffect","readDeck","Link","useParams","useHistory","CardsList","deleteDeck","jsx","_jsx","jsxs","_jsxs","Deck","deckId","deck","setDeck","history","abortController","AbortController","fetchDeck","response","signal","data","json","error","console","log","abort","handleEditButton","push","concat","handleStudyButton","handleAddCardsButton","handleDeleteButton","confirmed","window","confirm","go","navBar","children","className","to","name","description","onClick","id"],"sources":["/Users/rlimun/SWE_Program/Front-End-Development/react-assessment/project-flashcards/src/Layout/Deck.js"],"sourcesContent":["import React, { useState , useEffect } from \"react\";\nimport { readDeck } from \"../utils/api\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport CardsList from \"./CardsList\";\nimport { deleteDeck } from \"../utils/api\";\n\n\nconst Deck = () => {\n    const deckId = useParams();\n    const [ deck, setDeck ] = useState([]);\n    const history = useHistory();\n\n    useEffect(() => {\n        const abortController = new AbortController();\n        const fetchDeck = async() => {\n            try {\n                const response = await readDeck(deckId, abortController.signal);\n                const data = response.json();\n                setDeck(data);\n            }\n            catch(error){\n                console.log('Error fetching decks', error);\n            }\n        }\n        fetchDeck();\n        return () => {\n            abortController.abort();\n        }\n    }, [deckId]);\n\n    const handleEditButton = (deckId) => {\n        history.push(`/decks/${deckId}/edit`);\n    }\n\n    const handleStudyButton = (deckId) => {\n        history.push(`/decks/${deckId}/study`);\n    }\n\n    const handleAddCardsButton = (deckId) => {\n        history.push(`/decks/${deckId}/cards/new`);\n    }\n\n    const handleDeleteButton = async (deckId) => {\n        const confirmed = window.confirm('Delete this deck? You will not be able to recover it');\n        if (confirmed) {\n            try {\n                await deleteDeck(deckId);\n               // setDecks((prevDecks) => prevDecks.filter((deck) => deck.id !== deckId));\n                history.go(0);\n            } catch(error){\n                console.error(\"Error deleting deck\", error);\n            }\n        }\n    };\n\n    const navBar = (\n        <nav>\n            <ol className=\"breadcrumb\">\n                <li className=\"breadcrumb-item\">\n                    <Link to=\"/\">Home</Link>\n                </li>\n                <li className=\"breadcrumb-item\">\n                    {deck.name}\n                </li>\n            </ol>\n        </nav>\n    )\n\n    return (\n        <div>\n            <div>\n                {navBar}\n                <h3>{deck.name}</h3>\n                <p>{deck.description}</p>\n                <button onClick={() => handleEditButton(deck.id)}>Edit</button>\n                <button onClick={() => handleStudyButton(deck.id)}>Study</button>\n                <button onClick={() => handleAddCardsButton(deck.id)}>Add Cards</button>\n                <button onClick={() => handleDeleteButton(deck.id)}>Delete</button>\n            </div>\n            <div>\n                <CardsList deck={deck}/>\n            </div>\n        </div>\n    )\n}\n\nexport default Deck;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}